# Archived: Downstream port, only for testing. Use mainline port!
# Reference: <https://postmarketos.org/devicepkg>
maintainer="Luca Weiss <luca@lucaweiss.eu>"
pkgname=device-oneplus-bacon-downstream
pkgver=4
pkgrel=0
pkgdesc="OnePlus One (Downstream)"
url="https://postmarketos.org"
arch="armv7"
license="MIT"
depends="
	firmware-oneplus-bacon
	linux-oneplus-bacon
	mkbootimg
	msm-fb-refresher
	postmarketos-base
	"
makedepends="devicepkg-dev"
source="
	deviceinfo
	kernel-cmdline.conf
	90-android-touch-dev.rules
	"
options="!check !archcheck"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname

	install -Dm644 "$srcdir"/90-android-touch-dev.rules \
		"$pkgdir"/etc/udev/rules.d/90-android-touch-dev.rules
}

sha512sums="
163ef081825de675b01c61cf8ec81ba7e78cce1099dfcf263bfbc600ef058c4f7c635259c655cd9161deb90af208348cd72e5129cc5891976ae754c6dcaa3376  deviceinfo
8117768f75f8ba862c24d93bc3ca17e380b102e4e52252bdbd34df99af801fe03ca5db0964a1436e700385111735acfd7e8d600d23c68dd424f93833c18d0876  kernel-cmdline.conf
65e9ee7352b1dc39d99ea411eb0ed9c56f9975230907db5add3a1b4146cdf6f227c934052dab38a1937ed67d67585f28fb7410f10a1bec9dd5e4eb69d7253515  90-android-touch-dev.rules
"
